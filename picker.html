<!-- TODO: EMBED CSS, CREATE NAMESPACE-->

<style>
    dialog {
        padding: 0;
        border: 0;
        border-radius: 0.6rem;
        box-shadow: 0 0 1em black;
        /*width: 80vh;*/
        font-family: 'Open Sans', sans-serif;
    }

    dialog::backdrop {
        /* make the backdrop a semi-transparent black */
        background-color: rgba(0, 0, 0, 0.4);
    }

    dialog h1 {
        display: block;
        margin-block-start: 0.67em;
        margin-block-end: 0.67em;
        margin-inline-start: 0px;
        margin-inline-end: 0px;
        font-weight: bold;
        font-size: 1.8rem;
        font-weight: 300;
        margin: 0px;
    }


    dialog h2 {
        display: block;
        margin-block-start: 0.67em;
        margin-block-end: 0.67em;
        margin-inline-start: 0px;
        margin-inline-end: 0px;
        font-weight: bold;
        font-size: 1.3rem;
        font-weight: 300;
        margin: 0px;
    }

    .wrapper {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        /*grid-auto-flow: column;*/
        /*grid-template-rows: 40px 100px 40px;*/
        /*grid-auto-flow: column;*/
        /*grid-auto-rows: 300px;*/
        /*grid-gap: 15px;*/
        /*grid-template-rows: repeat(1, 1fr);*/
    }

    .header {
        display: flex;
        grid-column: span 4;
        /*background-color: #00b39e;*/
        padding-left: 10px;
        border-bottom: 1px solid black;
    }

    .sidebar {
        display: block;
        grid-row: span 2;
        background-color: #eef4f6;
        height: 70vh;
        padding-left: 10px;
    }

    .sidebar .panel {
        display: grid;
        grid-template-columns: repeat(1, 1fr);
        grid-auto-flow: row;
        padding-top: 10px;
        overflow-y: auto;
        height: 70%;
    }

    .sidebar .option {
        width: 100%;
        padding-bottom: 15px;
    }

    .sidebar .panel .option .facet {
        /*display: grid;*/
        /*grid-template-columns: repeat(2, 1fr);*/
        /*grid-auto-flow: column;*/
    }

    .containerArea {
        display: block;
        grid-column: span 3;
        height: 70vh;
    }

    .bottomBar {
        display: flex;
        grid-column: span 4;
        padding-bottom: 5px;
        padding-top: 5px;
    }

    #productListContainer {
        overflow-y: auto;
        height: 100%;
        padding-left: 10px;
        /*width:100%*/
        padding-right: 25px;
        min-width: 650px;
        padding-top: 5px;
    }

    .productList {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        grid-gap: 15px;
    }

    .product {
        display: block;
        height: 150px;
        width: 150px;
        border: 1px solid black;
    }

    .product[data-selected="true"] {
        background-color: #00b39e;
        border: 2px solid black;
    }

    .productDetails {
        grid-template-columns: repeat(1, 1fr);
        grid-auto-flow: row;
        display: grid;
        padding-left: 5px
    }

    .productDetails .name {
        max-width: 100%;
        overflow: hidden;
        white-space: nowrap; /*keep text on one line */
        text-overflow: ellipsis;
        font-size: smaller;
    }

    .productDetails .sku {
        max-width: 100%;
        overflow: hidden;
        white-space: nowrap; /*keep text on one line */
        text-overflow: ellipsis;
        font-size: smaller;
    }

    .thumbnail {
        position: relative;
        width: 150px;
        min-height: 100px;
        overflow: hidden;
        margin: 0 auto;
    }

    .thumbnail img {
        position: absolute;
        left: 50%;
        top: 50%;
        height: 75px;
        width: auto;

        -webkit-transform: translate(-50%, -50%);
        -ms-transform: translate(-50%, -50%);
        transform: translate(-50%, -50%);
    }

    .button {
        white-space: nowrap;
        cursor: pointer;
        -webkit-box-align: center;
        align-items: center;
        height: 32px;
        display: inline-block;
        box-shadow: rgba(0, 0, 0, 0.12) 0px -1px 1.5px 0px, rgba(0, 0, 0, 0.24) 0px 1px 1px 0px;
        color: rgb(26, 26, 26);
        border-width: initial;
        border-style: none;
        border-color: initial;
        border-image: initial;
        background: none rgb(255, 255, 255);
        outline: 0px;
        margin: 0px;
        font: inherit inherit inherit inherit inherit inherit inherit inherit;
        padding: 0px 16px;
        border-radius: 6px;
        transition: background-color 80ms linear 0s, box-shadow 150ms ease-in-out 0s;
    }

    .fullWidth {
        width: 90%;
    }

    .textInput {
        -webkit-writing-mode: horizontal-tb !important;
        text-rendering: auto;
        color: initial;
        letter-spacing: normal;
        word-spacing: normal;
        text-transform: none;
        text-indent: 0px;
        text-shadow: none;
        display: inline-block;
        text-align: start;
        -webkit-appearance: textfield;
        background-color: white;
        -webkit-rtl-ordering: logical;
        cursor: text;
        margin: 0em;
        font: 400 11px system-ui;
        padding: 1px;
        border-width: 2px;
        border-style: inset;
        border-color: initial;
        border-image: initial;
        border-radius: 6px;
        border-style: solid;
        border-width: 1px;
        color: #1a1a1a;
        font-weight: 500;
        font-size: 1rem;
        font-family: Open Sans, sans-serif !important;
        padding: 7.5px 10px;
        outline: none;
        box-shadow: none;
        -webkit-appearance: none;
    }
</style>

<script id="productItem" type="text/x-handlebars-template">
    <div>{{results.length}} results found</div>
    <div class="productList">
        {{#each results}}
        <div class="product" data-role="action" data-id="{{id}}">
            <div data-role="image" class="thumbnail">
                <img src="{{masterVariant.images.0.url}}"/>
            </div>
            <div class="productDetails" data-role="action" data-id="{{id}}">
                <div class="sku">{{masterVariant.sku}}</div>
                <div class="name">{{name.en}}</div>
                <!--<div data-role="price"></div>-->
            </div>
        </div>
        {{/each}}
    </div>
</script>

<script id="categoryItem" type="text/x-handlebars-template">
    <div>{{results.length}} results found</div>
    <div class="categoryList">
        <!--<ul id="myUL">-->
            <!--<li><span class="caret">Beverages</span>-->
                <!--<ul class="nested">-->
                    <!--<li>Water</li>-->
                    <!--<li>Coffee</li>-->
                    <!--<li><span class="caret">Tea</span>-->
                        <!--<ul class="nested">-->
                            <!--<li>Black Tea</li>-->
                            <!--<li>White Tea</li>-->
                            <!--<li><span class="caret">Green Tea</span>-->
                                <!--<ul class="nested">-->
                                    <!--<li>Sencha</li>-->
                                    <!--<li>Gyokuro</li>-->
                                    <!--<li>Matcha</li>-->
                                    <!--<li>Pi Lo Chun</li>-->
                                <!--</ul>-->
                            <!--</li>-->
                        <!--</ul>-->
                    <!--</li>-->
                <!--</ul>-->
            <!--</li>-->
        <!--</ul>-->
        {{#each results}}
        <div class="product" data-role="action" data-id="{{id}}">
            <div data-role="image" class="thumbnail">
                <!--<img src="{{masterVariant.images.0.url}}"/>-->
            </div>
            <div class="productDetails" data-role="action" data-id="{{id}}">
                <!--<div class="sku">{{masterVariant.sku}}</div>-->
                <div class="name">{{name.en}}</div>
                <!--<div data-role="price"></div>-->
            </div>
        </div>
        {{/each}}
    </div>
</script>

<script id="ct_FacetTemplate" type="text/x-handlebars-template">
    {{#if facets}}
    <b>Refine your selection</b>
    {{#each facets}}
    <div class="option">
        <b>{{name}}</b>
        {{#each terms}}
        <p class="facet">{{term}}<i>({{count}})</i></p>
        {{/each}}
    </div>
    {{/each}}
    {{/if}}
</script>

<script id="ct_PickerDialogTemplate" type="text/x-handlebars-template">
    <dialog id="popup">
        <!--<div class="popup" id="popup">-->
        <div class="wrapper">
            <div class="header">
                {{#if displayOptions.showHeader}}
                <h1>Pick a product</h1>
                {{/if}}
            </div>
            <div class="sidebar">
                <div class="option">
                    <div>
                        <b>Search for</b>
                    </div>
                    <div>
                        <input type="text" id="searchTerm" class="textInput"/>
                    </div>
                </div>
                <div class="option">
                    <button class="button fullWidth" id="ct_searchButton">Search</button>
                </div>
                <div class="panel" id="filterPanel">

                </div>
            </div>
            <div class="containerArea">

                <div id="productListContainer">

                </div>
            </div>
            <div class="bottomBar">
                <div style="text-align: center;width:100%;padding-right:10px">
                    {{#if displayOptions.showPaging}}
                    PAGING
                    {{/if}}
                </div>
                <div style="text-align: right;width:100%;padding-right:10px">
                    {{#if displayOptions.showSelectButton}}
                    <button class="button" id="ct_saveButton">Save</button>
                    {{/if}}
                    {{#if displayOptions.showCancelButton}}
                    <button class="button" id="ct_cancelButton">Cancel</button>
                    {{/if}}
                </div>
                </div>

            </div>
        </div>
    </dialog>
</script>

<script id="ct_PickerTemplate" type="text/x-handlebars-template">
    <div class="wrapper">

        <div class="header">
            {{#if displayOptions.showHeader}}
            <h1>Pick a product</h1>
            {{/if}}
        </div>

        <div class="sidebar">
            <div class="option">
                <div>
                    <b>Search for</b>
                </div>
                <div>
                    <input type="text" id="searchTerm" class="textInput"/>
                </div>
            </div>
            <div class="option">
                <button class="button fullWidth" id="ct_searchButton">Search</button>
            </div>
            <div class="panel" id="filterPanel">

            </div>
        </div>
        <div class="containerArea">

            <div id="productListContainer">

            </div>
        </div>
        <div class="bottomBar">
            <div style="text-align: center;width:100%;padding-right:10px">
                {{#if displayOptions.showPaging}}
                PAGING
                {{/if}}
            </div>
            <div style="text-align: right;width:100%;padding-right:10px">
                {{#if displayOptions.showSelectButton}}
                <button class="button" id="ct_saveButton">Save</button>
                {{/if}}
                {{#if displayOptions.showCancelButton}}
                <button class="button" id="ct_cancelButton">Cancel</button>
                {{/if}}
            </div>

        </div>
    </div>
</script>


