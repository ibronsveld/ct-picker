<style>

    #ctp-wrapper {
        all: unset;
        color: #1a1a1a;
        font-family: 'Open Sans', sans-serif;
        font-size: 13px;
    }

    #ctp-wrapper dialog {
        padding: 0;
        border: 0;
        border-radius: 0.6rem;
        box-shadow: 0 0 1em black;
        font-family: 'Open Sans', sans-serif;
    }

    #ctp-wrapper dialog::backdrop {
        /* make the backdrop a semi-transparent black */
        background-color: rgba(0, 0, 0, 0.4);
    }

    .ctp-container {
        width: 100%;
        /*border: 1px solid black;*/
    }

    .ctp-h1 {
        display: block;
        margin-block-start: 0.67em;
        margin-block-end: 0.67em;
        margin-inline-start: 0px;
        margin-inline-end: 0px;
        font-weight: bold;
        font-size: 1.8rem;
        font-weight: 300;
        margin: 0px;
    }


    .ctp-h2 {
        display: block;
        margin-block-start: 0.67em;
        margin-block-end: 0.67em;
        margin-inline-start: 0px;
        margin-inline-end: 0px;
        font-weight: bold;
        font-size: 1.3rem;
        font-weight: 300;
        margin: 0px;
    }

    .ctp-row {
        display: grid;
        grid-template-rows: repeat(1, 1fr);
        grid-template-columns: repeat(8, 1fr);
    }

    .ctp-col-1 {
        grid-column-end: span 1;
    }

    .ctp-push-col-1 {
        grid-column-start: 1;
    }

    .ctp-col-2 {
        grid-column-end: span 2;
    }

    .ctp-push-col-2 {
        grid-column-start: 2;
    }

    .ctp-col-3 {
        grid-column-end: span 3;
    }

    .ctp-push-col-3 {
        grid-column-start: 3;
    }

    .ctp-col-4 {
        grid-column-end: span 4;
    }

    .ctp-push-col-4 {
        grid-column-start: 4;
    }

    .ctp-col-5 {
        grid-column-end: span 5;
    }

    .ctp-push-col-5 {
        grid-column-start: 5;
    }

    .ctp-col-6 {
        grid-column-end: span 6;
    }

    .ctp-push-col-6 {
        grid-column-start: 6;
    }

    .ctp-col-7 {
        grid-column-end: span 7;
    }

    .ctp-push-col-7 {
        grid-column-start: 7;
    }

    .ctp-col-8 {
        grid-column-end: span 8;
    }

    .ctp-push-col-8 {
        grid-column-start: 8;
    }


    .ctp-list-container {
        overflow-y: auto;
        height: 500px;
        padding-left: 10px;
        padding-right: 25px;
        min-width: 650px;
        padding-top: 5px;
    }

    .ctp-header-column {
        background: rgb(33, 60, 69);
        color: rgb(230, 230, 230);
        height: 35px;
        -webkit-box-align: center;
        align-items: center;
        padding-left: 5px;
        border-bottom: 1px solid rgb(230, 230, 230);
        padding-top: 5px;
    }

    .ctp-column {
        border-right: 1px solid grey;
        align-items: center;
        border-bottom: 1px solid rgb(230, 230, 230);
        border-right: 1px solid rgb(230, 230, 230);
        padding-left: 5px;
        padding-top: 5px;
    }


    .ctp-row[data-selected="true"] {
        border: 2px solid #00b39e;
        background-color: #00b39e33;
    }

    .ctp-thumbnail {
        position: relative;
        max-height: 70px;
        overflow: hidden;
        margin: 0 auto;
    }

    .ctp-button-primary {
        box-shadow: inset 0px 1px 0px 0px #497d76;
        background: linear-gradient(to bottom, #00b39e 5%, #0da38f 100%);
        background-color: #00b39e;
        border: 1px solid #88c9c0;
        color: #ffffff;
        text-shadow: 0px 1px 0px #23756a;
    }

    .ctp-button-primary:hover {
        background: linear-gradient(to bottom, #0da38f 5%, #00b39e 100%);
        background-color: #0da38f;
    }

    .ctp-button-light {
        box-shadow: inset 0px 1px 0px 0px #ffffff;
        background: linear-gradient(to bottom, #ffffff 5%, #f6f6f6 100%);
        background-color: #ffffff;
        border: 1px solid #dcdcdc;
        color: rgb(26, 26, 26);
        text-shadow: 0px 1px 0px #ffffff;
    }

    .ctp-button-light:hover {
        background: linear-gradient(to bottom, #f6f6f6 5%, #ffffff 100%);
        background-color: #f6f6f6;
    }

    .ctp-button {
        border-radius: 6px;
        display: inline-block;
        cursor: pointer;
        padding: 10px 24px;
        text-decoration: none;
        height: 16px;
    }

    .ctp-button:active {
        position: relative;
        top: 1px;
    }

    .ctp-category-product-label {
        font-size: smaller;
        color: rgb(153, 153, 153);
    }

    .ctp-link {
        color: #fff;
        font-weight: bold;
    }

    .ctp-search-input {
        box-sizing: border-box;
        display: inline-block;
        width: 100%;
        background-color: white;
        border-radius: 6px;
        border-style: solid;
        border-width: 1px;
        color: #1a1a1a;
        font-weight: 500;
        font-size: 1rem;
        font-family: Open Sans, sans-serif !important;
        padding: 7.5px 10px;
        outline: none;
        box-shadow: none;
        -webkit-appearance: none;
    }

    .ctp-filter-box {
        background-color: #f2f2f2;
        border-radius: 6px;
        margin: 0 0 16px;
        padding: 10px;
    }

    /* Tooltip container */
    .ctp-tooltip {
        position: relative;
        display: inline-block;
        border-bottom: 1px dotted black; /* If you want dots under the hoverable text */
    }

    /* Tooltip text */
    .ctp-tooltip .ctp-tooltiptext {
        visibility: hidden;
        width: 120px;
        background-color: black;
        color: #fff;
        text-align: center;
        padding: 5px 0;
        border-radius: 6px;

        /* Position the tooltip text - see examples below! */
        position: absolute;
        z-index: 1;
    }

    /* Show the tooltip text when you mouse over the tooltip container */
    .ctp-tooltip:hover .ctp-tooltiptext {
        visibility: visible;
    }

</style>

<script id="ctp-product-item" type="text/x-handlebars-template">

    {{#each results}}
    <div class="ctp-row" data-id="{{id}}" data-role="action" {{#shouldSelect id}}{{/shouldSelect}}>
        <div class="ctp-col-1 ctp-column">
            {{masterVariant.sku}}
        </div>
        <div class="ctp-col-2 ctp-column">
            {{#getLocalizedString name}}{{/getLocalizedString}}
        </div>
        <div class="ctp-col-2 image ctp-column">
            <img src="{{masterVariant.images.0.url}}" class="ctp-thumbnail"/>
        </div>
        <div class="ctp-col-1 ctp-column">
            {{#formatPrice masterVariant.prices 0 "EUR"}}{{/formatPrice}}
        </div>
        <div class="ctp-col-2 ctp-column">
            <a class="ctp-button ctp-button-light" href="{{#mcLink id }}{{/mcLink}}" rel="noopener noreferrer"
               target="_blank" onclick="event.stopPropagation();">{{#getLabel "openInMc"}}{{/getLabel}}</a>
        </div>
    </div>
    {{/each}}

</script>

<script id="ctp-variant-item" type="text/x-handlebars-template">

    {{#each results}}
    <div data-id="{{id}}">
    <div class="ctp-row"  {{#shouldSelect id}}{{/shouldSelect}}>

        <div class="ctp-col-2 ctp-header-column">
            <b>{{#getLocalizedString name}}{{/getLocalizedString}}</b>
        </div>
        <div class="ctp-col-4 ctp-header-column">
            <b>Available variants: {{#variantCount this}}{{/variantCount}}</b>
        </div>
        <div class="ctp-col-2 ctp-header-column">
            <a class="ctp-link" href="{{#mcLink id }}{{/mcLink}}" rel="noopener noreferrer" target="_blank" onclick="event.stopPropagation();">{{#getLabel "openInMc"}}{{/getLabel}}</a>
        </div>
    </div>

        <div class="ctp-row" data-role="action" data-variant-id="{{masterVariant.id}}" data-id="{{id}}">
            <div class="ctp-col-1 ctp-column">
                {{masterVariant.sku}}
            </div>
            <div class="ctp-col-2 ctp-column">
                Variant ID: {{masterVariant.id}} (master)
            </div>
            <div class="ctp-col-2 image ctp-column">
                <!--TODO: Conditional-->
                <img src="{{masterVariant.images.0.url}}" class="ctp-thumbnail"/>
            </div>
            <div class="ctp-col-1 ctp-column">
                <!--TODO: Conditional-->
                {{#formatPrice masterVariant.prices 0 }}{{/formatPrice}}
            </div>
            <div class="ctp-col-2 ctp-column">
                {{#showVariantAvailability masterVariant }}{{/showVariantAvailability}}
            </div>
        </div>

        {{#each variants}}
            <div class="ctp-row" data-role="action" data-variant-id="{{id}}" data-id="{{../id}}">
                <div class="ctp-col-1 ctp-column">
                    {{sku}}
                </div>
                <div class="ctp-col-2 ctp-column">
                    Variant ID: {{id}}
                </div>
                <div class="ctp-col-2 image ctp-column">
                    <!--TODO: Conditional-->
                    <img src="{{images.0.url}}" class="ctp-thumbnail"/>
                </div>
                <div class="ctp-col-1 ctp-column">
                    <!--TODO: Conditional-->
                    {{#formatPrice prices 0 }}{{/formatPrice}}
                </div>
                <div class="ctp-col-2 ctp-column">
                    {{#showVariantAvailability this }}{{/showVariantAvailability}}
                </div>
            </div>
        {{/each}}
    </div>
    {{/each}}

</script>

<script id="ctp-category-item" type="text/x-handlebars-template">
    {{#each results}}
    <div class="ctp-row" data-id="{{id}}" data-role="action" {{#shouldSelect id}}{{/shouldSelect}}>
        <div class="ctp-col-1 ctp-column">
            {{key}}
        </div>
        <div class="ctp-col-2 ctp-column">
            <span>{{name}}</span><br/>
            <span class="ctp-category-product-label">{{stagedProductCount}} {{#getLabel "categoryProductCountLabel"}}{{/getLabel}}</span>
        </div>
        <div class="ctp-col-2 ctp-column">
            {{slug}}
        </div>
        <div class="ctp-col-2 ctp-column">
            {{#if ancestors}}
                {{#each ancestors}}
                  | {{name}}
                {{/each}}
            {{/if}}
        </div>
        <div class="ctp-col-1 ctp-column">
            <a class="ctp-button ctp-button-light" href="{{#mcLink id }}{{/mcLink}}" rel="noopener noreferrer"
               target="_blank" onclick="event.stopPropagation();">{{#getLabel "openInMc"}}{{/getLabel}}</a>
        </div>
    </div>
    {{/each}}
</script>

<script id="ctp-picker-template" type="text/x-handlebars-template">
    {{#isDialog}}
    <dialog id="ctp-popup">
        {{/isDialog}}
        <div class="ctp-container">
            <div class="ctp-row">
                <div class="ctp-col-8">
                    <div class="ctp-filter-box">
                        {{#if displayOptions.showHeader}}
                        <div class="ctp-row">
                            <div class="ctp-col-8">
                                <h1 class="ctp-h1">{{#getLabel "title"}}{{/getLabel}}</h1>
                            </div>
                        </div>
                        {{/if}}
                        <div class="ctp-row">
                            <div class="ctp-col-2" style="padding:10px">
                                <b>{{#getLabel "searchText"}}{{/getLabel}}</b>
                            </div>
                            <div class="ctp-col-5">
                                <input type="text" id="ctp-search-input" class="ctp-search-input"
                                       placeholder="{{#getLabel 'searchPlaceHolder'}}{{/getLabel}}"/>
                            </div>
                            <div class="ctp-col-1" style="text-align: left;margin-left:5px">
                                <a class="ctp-button ctp-button-primary" id="ctp-search-button" data-event="search"
                                   href="#">{{#getLabel "searchButton"}}{{/getLabel}}</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="ctp-row">
                <div class="ctp-col-8 ctp-list-container">
                    <!--Should depend on the type-->
                    {{#ifValue pickerMode equals="product"}}
                    <div class="ctp-row">
                        <div class="ctp-col-1 ctp-header-column">
                            {{#getLabel 'skuHeader'}}{{/getLabel}}
                        </div>
                        <div class="ctp-col-2 ctp-header-column">
                            {{#getLabel 'productNameHeader'}}{{/getLabel}}
                        </div>
                        <div class="ctp-col-2 ctp-header-column">
                            {{#getLabel 'imageHeader'}}{{/getLabel}}
                        </div>
                        <div class="ctp-col-1 ctp-header-column">
                            {{#getLabel 'priceHeader'}}{{/getLabel}}
                        </div>
                        <div class="ctp-col-2 ctp-header-column">
                            {{#getLabel 'actionHeader'}}{{/getLabel}}
                        </div>
                    </div>
                    {{/ifValue}}

                    {{#ifValue pickerMode equals="category"}}
                    <div class="ctp-row">
                        <div class="ctp-col-1 ctp-header-column">
                            {{#getLabel 'categoryKeyHeader'}}{{/getLabel}}
                        </div>
                        <div class="ctp-col-2 ctp-header-column">
                            {{#getLabel 'categoryNameHeader'}}{{/getLabel}}
                        </div>
                        <div class="ctp-col-2 ctp-header-column">
                            {{#getLabel 'categorySlugHeader'}}{{/getLabel}}
                        </div>
                        <div class="ctp-col-2 ctp-header-column">
                            {{#getLabel 'categoryParentHeader'}}{{/getLabel}}
                        </div>
                        <div class="ctp-col-1 ctp-header-column">
                            {{#getLabel 'actionHeader'}}{{/getLabel}}
                        </div>
                    </div>
                    {{/ifValue}}
                    <div class="ctp-row">
                        <div class="ctp-col-8" id="ctp-list">
                        </div>
                    </div>
                </div>
            </div>
            <div class="ctp-row" style="margin-top:10px">

                <div class="ctp-filter-box ctp-col-8">
                    <div class="ctp-row">
                        <div class="ctp-col-5 ctp-push-col-2" style="vertical-align: middle;">
                    <span id="ctp-status-text">
                    </span>
                        </div>
                        {{#if displayOptions.showSelectButton}}
                        <div class="ctp-col-1">
                            <a class="ctp-button ctp-button-primary" id="ok" data-event="select" href="#">{{#getLabel
                                "saveButton"}}{{/getLabel}}</a>
                        </div>
                        {{#if displayOptions.showCancelButton}}
                        <div class="ctp-col-1">
                            <a class="ctp-button ctp-button-light" id="cancel" data-event="cancel" href="#">{{#getLabel
                                "cancelButton"}}{{/getLabel}}</a>
                        </div>
                        {{/if}}
                        {{/if}}
                    </div>
                </div>
            </div>
        </div>
        {{#isDialog}}
    </dialog>
    {{/isDialog}}
</script>
